<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="./assets/css/cosmo-bootstrap.min.css" rel="stylesheet">
    <link href="./assets/css/font-awesome.min.css" rel="stylesheet">

    <script src="./assets/js/jquery.min.js" type="text/javascript"></script>
    <script src="./assets/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="./assets/js/ace/ace.js" type="text/javascript"></script>
</head>

<body>
    <br>
    <br>

    <div class="container">
        <div class="row">
            <div class="col-xs-3">

                <div class="list-group" role="navlist">
                    <a href="#" class="list-group-item active">
                        <i class="fa fa-chevron-right"></i> 01. Hello World
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 02. if/else/elseif
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 03. for/else
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 04. break/continue
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 05. include
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 06. Layout
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 07. Extends Method
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 08. Extends Function
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 09. Tag
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 10. Macro
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 11. safecall
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 12. format
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-chevron-right"></i> 13. Security Manager
                    </a>
                </div>
            </div>


            <div class="col-xs-9">

                <div class="pull-right" role="toolbar">
                    <span style="font-size:18px;">
                        <i class="fa fa-spinner fa-spin"></i>
                    </span>

                    <button class="btn btn-primary" data-toggle="tooltip" title="Execute the template">
                        <i class="fa fa-play"></i> Execute
                    </button>
                    &nbsp;&nbsp;
                    <div class="btn-group">
                        <button class="btn btn-default" data-toggle="tooltip" title="Add new template">
                            <i class="fa fa-plus"></i>
                        </button>
                        <button class="btn btn-default" data-toggle="tooltip" title="Rename current template">
                            <i class="fa fa-edit"></i>
                        </button>
                        <button class="btn btn-default" data-toggle="tooltip" title="Delete current template">
                            <i class="fa fa-remove"></i>
                        </button>
                        <button class="btn btn-default" data-toggle="tooltip" title="Set current template as main entry">
                            <i class="fa fa-heart"></i>
                        </button>
                    </div>
                    &nbsp;&nbsp;
                    <button class="btn btn-success" data-toggle="tooltip" title="Share the template">
                        <i class="fa fa-share"></i> Share
                    </button>

                </div>

                <div role="tabpanel">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="active">
                            <a href="#file1" role="tab" data-toggle="tab">
                                <i class="fa fa-file-text"></i> &nbsp; Main.jetx
                            </a>
                        </li>
                        <li>
                            <a href="#file2" role="tab" data-toggle="tab">
                                <i class="fa fa-file-text-o"></i> &nbsp; Layout.jetx
                            </a>
                        </li>
                    </ul>

                    <div class="edit_panel">
                        <form class="form-inline">
                            <input type="text" class="form-control" autofocus="autofocus" placeholder="Input file name">
                            <button class="btn">
                                <i class="fa fa-check"></i>
                            </button>
                            <button class="btn">
                                <i class="fa fa-remove"></i>
                            </button>
                        </form>
                    </div>

                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="file1">
                            <div class="ace-editor" ace-mode="jetx" ace-readOnly="false">#define(String who)
Hello ${who.cap()}!</div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="file2">
                            <div class="ace-editor" ace-mode="jetx" ace-readOnly="false">${aaa}</div>
                        </div>
                    </div>
                </div>

                <br/>

                <div role="tabpanel">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="active">
                            <a role="tab" data-toggle="tab">
                                <i class="fa fa-file-code-o"></i> &nbsp; Model.json
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active">
                            <div class="ace-editor" ace-mode="json" ace-readOnly="false" style="height:150px;">{ 
    "who": "jetbrick" 
}</div>
                        </div>
                    </div>
                </div>

                <div style="margin-top:5px;color:#888">
                    Note: you can use <a href="#">sample model classes <i class="fa fa-external-link"></i></a> and most JDK classes as argument types
                </div>

                <br/>

                <div role="tabpanel">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="active">
                            <a role="tab" data-toggle="tab">
                                <i class="fa fa-th"></i> &nbsp; Execution Result
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active">
                            <div class="ace-editor" ace-mode="html" ace-readOnly="true">Hello Jetbrick!</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <br/>
        <br/>
        <br/>
        <br/>
        <br/>

    </div>
</body>

</html>

<style type="text/css">
.ace_editor { 
    margin-top: 10px;
    width: 100%;
    height: 300px;
    
    font-size: 14px;
    line-height: 20px;
}

.btn {
    padding: 5px 12px;
}

.list-group-item i {
    display: none;
}

.list-group-item.active i,
.list-group-item:hover i {
    float:right;
    padding: 5px 0;
    font-size: 13px;
    display: block;
}

.edit_panel {
    margin-top: 10px;
}

.form-control {
    height: 33px;
    padding: 0 6px;
}

</style>

<script type="text/javascript">
var data = {};

$(function () {
    //$('[data-toggle="tooltip"]').tooltip();
    
    $('.ace-editor').each(function() {
        var $dom = $(this);
        var editor = ace.edit(this);
        editor.setTheme("ace/theme/monokai");
        editor.setShowPrintMargin(false);
        editor.setReadOnly($dom.attr('ace-readOnly') == "true");
        var session = editor.getSession();
        session.setMode("ace/mode/" + $dom.attr('ace-mode'));
        session.setTabSize(4);
        session.setUseWrapMode(true);
        session.setNewLineMode("unix");
    });
});

function initializeFileList() {
    var template = '<a href="#" class="list-group-item active"><i class="fa fa-chevron-right"></i> {{name}}</a>';
    var $navlist = $('[role=navlist]');
    for (var i=0; i<data.filelist.length; i++) {
        var html = template.replace("{{name}}", data.filelist[i].name);
        $navlist.append(html);
    }
}
</script>
